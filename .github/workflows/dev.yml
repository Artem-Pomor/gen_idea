name: Dev

on:
    push:
        branches: ["master"]
    pull-request:
        branches: ["master"]

env:
    NODE_VERSION: 20
    WORKDIR: frontend

jobs:
    Install Dependencies:
        runs-on: ubuntu-latest
        steps:
            -   uses: actions/checkout@v3
            -   uses: ./.github/actions/setup
                with:
                    node-version: ${{ env.NODE_VERSION }}
                    dir: ${{ env.WORKDIR }}

    Check Lint:
        runs-on: ubuntu-latest
        needs: Install Dependencies
        steps:
            -   uses: actions/checkout@v3
            -   uses: ./.github/actions/lint
                with:
                    node-version: ${{ env.NODE_VERSION }}
                    dir: ${{ env.WORKDIR }}

    Build Project:
        runs-on: ubuntu-latest
        needs: Check Lint
        steps:
            -   uses: actions/checkout@v3
            -   uses: ./.github/actions/build
                with:
                    node-version: ${{ env.NODE_VERSION }}
                    dir: ${{ env.WORKDIR }}
